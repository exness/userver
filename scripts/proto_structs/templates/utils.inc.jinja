{%- macro do_not_edit(file_name_wo_ext) %}
// THIS FILE IS AUTOGENERATED, DON'T EDIT!
// Source: {{ file_name_wo_ext }}.proto
{%- endmacro -%}

{%- macro render_gen_node(node) %}
{%- if node.kind == "namespace" %}
{{ do_render_namespace(node) }}
{%- elif node.kind == "struct" %}
{{ do_render_struct(node) }}
{%- else %}
NOT_IMPLEMENTED_ERROR()
{%- endif %}
{% endmacro -%}

{%- macro do_render_namespace(namespace) %}
namespace {{ namespace.short_name }} {

{% for child in namespace.children %}
{{ render_gen_node(child) }}
{% endfor %}
};  // namespace {{ namespace.short_name }}
{% endmacro -%}

{%- macro do_render_struct(struct) %}
struct {{ struct.name.short_name }} final {
{% filter indent(width=4, first=True) %}
{% for nested in struct.nested_types %}
{{ render_gen_node(nested) }}
{% endfor %}
{% endfilter %}
};
{% endmacro -%}
